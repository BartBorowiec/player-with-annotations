(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(t,n,e){t.exports=e(39)},24:function(t,n,e){},35:function(t,n,e){},36:function(t,n,e){},37:function(t,n,e){},38:function(t,n,e){},39:function(t,n,e){"use strict";e.r(n);var a=e(1),o=e.n(a),i=e(14),r=e.n(i),c=(e(24),e(8)),s=e(3),u=e(4),l=e(5),d=e(6),p=e(15),h=e(0),m=e.n(h),f=(e(25),e(28),e(13),e(33),e(34),e(35),function(t){Object(d.a)(e,t);var n=Object(l.a)(e);function e(){return Object(s.a)(this,e),n.apply(this,arguments)}return Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;m()(".player-wrapper").droppable({drop:function(n,e){t.addNewAnnotation({top:n.offsetY,left:n.offsetX})},accept:m()(".annotation-tile")}),m()("video").on("loadedmetadata",(function(n){t.props.saveDuration(n.target.duration)})),m()("video").on("timeupdate",(function(n){m()(".annotation").each((function(e,a){var o=t.props.annotations[e];n.target.currentTime>=o.start&&n.target.currentTime<=o.start+o.duration?m()(a).removeClass("hidden"):m()(a).addClass("hidden")}))})),m()(".annotation").draggable({containment:m()(".player-wrapper")}),m()(".annotation").resizable({containment:m()(".player-wrapper")})}},{key:"componentDidUpdate",value:function(){m()(".annotation").draggable({containment:m()(".player-wrapper")}),m()(".annotation").resizable({containment:m()(".player-wrapper")})}},{key:"addNewAnnotation",value:function(t){var n={top:t.top,left:t.left,text:"Enter text...",start:0,duration:m()("video")[0].duration};this.props.addNewAnnotation(n)}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"player-wrapper"},o.a.createElement("video",{controls:!0,autoPlay:!0,loop:!0,muted:!0,src:"https://archive.org/download/BigBuckBunny_124/Content/big_buck_bunny_720p_surround.mp4",poster:"https://peach.blender.org/wp-content/uploads/title_anouncement.jpg?x11217",width:"500px"}),this.props.annotations.map((function(n,e){return o.a.createElement("div",{key:e,className:"annotation hidden",style:{top:n.top||0,left:n.left||0}},o.a.createElement("textarea",{"data-id":e,onChange:function(n){return t.props.handleChange(n)},value:n.text}))})))}}]),e}(o.a.Component)),v=(e(36),function(t){Object(d.a)(e,t);var n=Object(l.a)(e);function e(){return Object(s.a)(this,e),n.apply(this,arguments)}return Object(u.a)(e,[{key:"componentDidMount",value:function(){console.log(h(".elements-box")),h(".annotation-tile").draggable({helper:"clone"})}},{key:"render",value:function(){return o.a.createElement("div",{className:"elements-box"},o.a.createElement("div",{className:"annotation-tile"},"Add annotation"))}}]),e}(o.a.Component)),g=(e(37),function(t){Object(d.a)(e,t);var n=Object(l.a)(e);function e(){return Object(s.a)(this,e),n.apply(this,arguments)}return Object(u.a)(e,[{key:"componentDidMount",value:function(){m()(".annotation-inner").resizable({handles:"e, w",containment:"parent",minHeight:30,stop:function(t,n){}}),m()(".annotation-inner").draggable({axis:"x",containment:"parent"})}},{key:"componentDidUpdate",value:function(){var t=this;m()(".annotation-inner").resizable({handles:"e, w",containment:"parent",stop:function(n,e){t.props.updateAnnotationDuration(n,e)}}),m()(".annotation-inner").draggable({axis:"x",containment:"parent",stop:function(n,e){t.props.updateAnnotationDuration(n,e)}})}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"annotations-list"},this.props.annotations.map((function(n,e){return o.a.createElement("div",{key:e,className:"annotation-outer"},o.a.createElement("div",{"data-id":e,className:"annotation-inner"},o.a.createElement("textarea",{"data-id":e,value:n.text,onChange:function(n){return t.props.handleChange(n)}})))})))}}]),e}(o.a.Component)),b=(e(38),function(t){Object(d.a)(e,t);var n=Object(l.a)(e);function e(t){var a;return Object(s.a)(this,e),(a=n.call(this,t)).state={annotations:[],scale:null},a}return Object(u.a)(e,[{key:"handleChange",value:function(t){var n=Object(c.a)(this.state.annotations);n[t.target.dataset.id].text=t.target.value,this.setState({annotations:n})}},{key:"addNewAnnotation",value:function(t){this.setState({annotations:[].concat(Object(c.a)(this.state.annotations),[t])})}},{key:"saveDuration",value:function(t){var n=Object(p.a)().domain([0,t]);this.setState({scale:n})}},{key:"updateAnnotationDuration",value:function(t,n){var e=this.state.scale;e.range([0,m()(t.target.closest(".annotation-outer")).width()]);var a=Object(c.a)(this.state.annotations);a[t.target.dataset.id].start=e.invert(n.position.left),a[t.target.dataset.id].duration=e.invert(n.position.left+n.helper[0].getBoundingClientRect().width),this.setState({annotations:a})}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"wrapper"},o.a.createElement(f,{saveDuration:function(n){return t.saveDuration(n)},handleChange:function(n){return t.handleChange(n)},addNewAnnotation:function(n){return t.addNewAnnotation(n)},annotations:this.state.annotations}),o.a.createElement(v,null),o.a.createElement(g,{updateAnnotationDuration:function(n,e){return t.updateAnnotationDuration(n,e)},handleChange:function(n){return t.handleChange(n)},annotations:this.state.annotations}))}}]),e}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.5b172daa.chunk.js.map